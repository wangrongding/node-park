<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- <script src="../../node_modules/socket.io/dist/index.js"></script> -->
  </head>
  <body>
    hello world
    <script type="module">
      // console.log("ðŸš€ðŸš€ðŸš€ / socket", socket);
      // åˆ›å»ºä¸€ä¸ªsocketå®žä¾‹ï¼š
      const socket = new WebSocket("ws://localhost:3000");
      // æ‰“å¼€socket
      socket.onopen = (event) => {
        // å‘é€ä¸€ä¸ªåˆå§‹åŒ–æ¶ˆæ¯
        socket.send("Hello Server!");
        // æœåŠ¡å™¨æœ‰å“åº”æ•°æ®è§¦å‘
        socket.onmessage = (event) => {
          console.log("Client received a message", event);
        };
        // å‡ºé”™æ—¶è§¦å‘ï¼Œå¹¶ä¸”ä¼šå…³é—­è¿žæŽ¥ã€‚è¿™æ—¶å¯ä»¥æ ¹æ®é”™è¯¯ä¿¡æ¯è¿›è¡ŒæŒ‰éœ€å¤„ç†
        socket.onerror = (event) => {
          console.log("error");
        };
        // ç›‘å¬Socketçš„å…³é—­
        socket.onclose = (event) => {
          console.log("Client notified socket has closed", event);
        };
        // å…³é—­Socket
        socket.close(1000, "closing normally");
      };
    </script>
  </body>
</html>
